(this["webpackJsonpaber-proj0"]=this["webpackJsonpaber-proj0"]||[]).push([[0],{369:function(e,t,a){e.exports=a(455)},374:function(e,t,a){},375:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=(a(374),a(375),a(109)),l=Object(i.a)({palette:{type:"dark",spacing:"2em",primary:{main:"#05AFF2"},secondary:{main:"#025E73"}},overrides:{MuiTableCell:{root:{padding:"5px"},paddingDefault:{padding:"5px 5px 5px 5px"}}}}),s=(Object(i.a)({}),a(482)),u=a(306),f=a(92),m=a(228),d=a(26),b=a(486),g=a(487),p=a(244),h=a(489),j=a(321),O=a(490),E=a(347),v=a.n(E),w=a(357),y=a.n(w),x=a(348),k=a.n(x),C=a(355),S=a.n(C),T=a(242),R=a.n(T),N=a(241),A=a.n(N),V=a(349),I=a.n(V),L=a(350),D=a.n(L),P=a(352),F=a.n(P),M=a(353),z=a.n(M),B=a(354),_=a.n(B),U=a(358),W=a.n(U),Y=a(351),q=a.n(Y),H=a(356),J=a.n(H),G=a(359),$=a.n(G),K=a(341),Q=a.n(K),X=a(199),Z=a(240),ee=a.n(Z),te=a(345),ae=a(346),ne=a.n(ae),re=function(){var e=Object(te.a)(ee.a.mark((function e(t,a){var n,r,c,o,i,l=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:0,r=l.length>3&&void 0!==l[3]?l[3]:10,c=l.length>4&&void 0!==l[4]?l[4]:"Video",console.log("API q=",a),o=a?{params:{q:"".concat(encodeURIComponent(a)),"f[mediaType]":"".concat(c),offset:"".concat(n),limit:"".concat(r)}}:{params:{"f[mediaType]":"".concat(c),offset:"".concat(n),limit:"".concat(r)}},e.next=7,ne.a.get("".concat("https://rbcp.rbmbtnx.net/api/v2","/content/communication"),o).catch((function(e){console.log(e)}));case 7:i=e.sent;try{console.log("API getVideos res: ",i),Array.isArray(i.data.items)?t(i.data.items,i.data._meta.total):t([],0)}catch(s){console.log("API call implementation looks fragile, please investigate. ",s),t([],0)}case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;if(e&&e.resources&&Array.isArray(e.resources)){var a=e.resources.filter((function(e){return e.type&&"reference_keyframe"===e.type})),n=Array.isArray(a)&&a.length>0?a[0].url:"UNDEFINED";return n.indexOf("/im/")>0&&(n=n.replace("/im/","/im:i:w_".concat(t,"/"))),n}return""}function oe(e){if(e&&e.resources&&Array.isArray(e.resources)){var t=e.resources.filter((function(e){return e.type&&("proxy_hd_720"===e.type||"proxy_normal"===e.type)}));return Array.isArray(t)&&t.length>0?t[0].url:"UNDEFINED"}return""}var ie={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(q.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(J.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}))};function le(e){var t=Object(n.useCallback)(Object(X.debounce)(re,2e3),[]),a=Object(n.useState)(),c=Object(d.a)(a,2),o=c[0];c[1];Object(n.useEffect)((function(){var e=setTimeout((function(){console.log(o)}),1e3);return function(){return clearTimeout(e)}}),[o]);var i=Object(n.useState)(10),l=Object(d.a)(i,2),s=l[0],u=l[1];return r.a.createElement(Q.a,{icons:ie,title:"Video List",columns:[{title:"Video",field:"imageUrl",render:function(e){return r.a.createElement("a",{href:oe(e)},r.a.createElement("img",{src:ce(e),alt:"",style:{width:"15em",borderRadius:"5%"}}))},filtering:!1},{title:"Title",field:"attributes.source"},{title:"Type",field:"attributes.type"},{title:"Description",field:"attributes.description"}],data:e.videos,totalCount:e.totalCount,options:{filtering:!0,search:!1,pageSize:s},onFilterChange:function(a){var n;console.log("filter changed: ",a),Array.isArray(a)&&a.length>0&&(n=a.filter((function(e){return"="===e.operator})).map((function(e){return e.value})).reduceRight((function(e,t){return e+" OR "+t}))),console.log("onFilterChange:",n),t(e.refresh,n,0,s)},onChangeRowsPerPage:function(a){u(a),t(e.refresh,o,0,a)},onChangePage:function(a,n){t(e.refresh,o,a,n)}})}var se=a(480),ue=a(57),fe=a(123),me=a(56),de=a(488),be=Object(p.a)((function(e){var t;return{card:{display:"flex",position:"relative",transition:"all 0.2s ease-in-out",height:"100%",backgroundColor:"dark"===e.palette.type?"#333":"#fff"},cardMedia:(t={flexShrink:0,width:0},Object(ue.a)(t,e.breakpoints.up("sm"),{width:256}),Object(ue.a)(t,"height",350),Object(ue.a)(t,"transition","all 0.5s ease-in-out"),Object(ue.a)(t,"&:hover",{transform:"scale(1.1)"}),Object(ue.a)(t,"cursor","pointer"),t),details:{display:"flex",flexDirection:"column"},summary:{maxHeight:400,margin:0,overflowY:"auto",textAlign:"justify"},content:{flex:"1 0 auto"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(4),paddingBottom:e.spacing(1)},cardLink:{textDecoration:"none",color:Object(me.fade)(e.palette.common.white,.55),transition:"all 0.3s ease-in","&:hover":{color:Object(me.fade)(e.palette.common.white,.75)}}}}));var ge=function(e){Object(fe.a)();var t=be(),a=ce(e,600);return r.a.createElement(b.a,{className:t.card},r.a.createElement(b.a,{once:!0,width:600,offset:[100,0],overflow:!0},r.a.createElement("a",{href:oe(e)},r.a.createElement(de.a,{className:t.cardMedia,image:a}))),r.a.createElement("div",{className:t.details},r.a.createElement(g.a,{className:t.content},r.a.createElement(f.a,{component:"h5",variant:"h5"},e.attributes.source),r.a.createElement(f.a,{component:"h6",variant:"h6"},e.attributes.type),r.a.createElement("section",{className:t.summary},r.a.createElement(f.a,{width:"",variant:"subtitle1",color:"textSecondary"},e.attributes.description)))))},pe=(a(360),Object(p.a)((function(e){return{card:{position:"relative",height:512,display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out",backgroundColor:"dark"===e.palette.type?"#333":"#fff"},cardMedia:{height:"512px",transition:"all 0.5s ease-in-out","&:hover":{transform:"scale(1.1)"}},cardContent:{position:"absolute",width:"85%",bottom:0,zIndex:e.zIndex.drawer-1,backgroundColor:"rgba(20,20,20,0.75)",color:"#ccc",fontSize:14,fontFamily:"Verdana, Arial, sans-serif",maxHeight:"30%",padding:"15px 10%",textAlign:"center",borderTop:"1px solid rgba(255,255,255,0.2)",transition:"all 0.5s ease-in-out"},cardDivider:{display:"block",height:"1px",border:0,borderTop:"1px solid #666"},cardLink:{textDecoration:"none",color:Object(me.fade)(e.palette.common.white,.55),"&:hover":{color:Object(me.fade)(e.palette.common.white,.75)}},ratingCount:{color:Object(me.fade)(e.palette.common.white,.55)}}})));var he=function(e){var t=pe(),a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(){return c(!0)}),[]),i=Object(n.useCallback)((function(){return c(!1)}),[]);return[r,{onMouseEnter:o,onMouseLeave:i}]}(),c=Object(d.a)(a,2),o=c[0],i=c[1],l=ce(e,1024);return r.a.createElement(b.a,Object.assign({className:t.card},i),r.a.createElement("a",{href:oe(e)},r.a.createElement(b.a,{once:!0,height:200,offset:[100,0],overflow:!0},r.a.createElement(de.a,{className:t.cardMedia,image:l})),r.a.createElement("div",{className:t.cardContent,style:{opacity:o?100:0}},r.a.createElement(f.a,null,e.attributes.source),r.a.createElement("small",{className:t.ratingCount},e.attributes.type),r.a.createElement("hr",{className:t.cardDivider}),r.a.createElement("div",{className:t.cardLink},r.a.createElement("p",null,"".concat(e.attributes.description," (").concat(e.attributes.year,")"))))))},je=a(491),Oe=a(492),Ee=a(493),ve=a(494),we=a(495),ye=a(483),xe=a(485),ke=a(484),Ce=a(187),Se=a(178),Te=a(305),Re=a(362),Ne={Title:"docTitle",Rate:"ratingValue",Year:"docYear"},Ae=Object(p.a)((function(e){return{content:{backgroundColor:"transparent",boxShadow:"none",marginTop:e.spacing(-3)},summary:{marginTop:e.spacing(-3)},grow:{flexGrow:1},search:Object(ue.a)({position:"relative",height:"90%",borderRadius:e.shape.borderRadius,backgroundColor:Object(me.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(me.fade)(e.palette.common.white,.2)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(8),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",height:"100%",width:"100%"},inputInput:Object(ue.a)({paddingLeft:e.spacing(8),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));var Ve=function(e){var t=e.toggle,a=e.setToggle,c=e.searchValue,o=e.setSearchValue,i=e.setLSortValue,l=Ae(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(e){return c(e.currentTarget)}),[]),i=Object(n.useCallback)((function(){return c(null)}),[]);return[r,{setTarget:o,freeTarget:i}]}(),u=Object(d.a)(s,2),f=u[0],m=u[1],b=m.setTarget,g=m.freeTarget;function p(e){i(Ne[e.currentTarget.textContent]),g()}return r.a.createElement(ye.a,{className:l.content},r.a.createElement(xe.a,{"aria-label":"Toggle setting",expandIcon:r.a.createElement(je.a,null),className:l.summary}),r.a.createElement(ke.a,null,r.a.createElement(Ce.a,{"aria-label":"Toggle layout",onClick:a},t?r.a.createElement(Oe.a,{fontSize:"small"}):r.a.createElement(Ee.a,{fontSize:"small"})),r.a.createElement(Ce.a,{"aria-label":"Toggle sorted",onClick:b},r.a.createElement(ve.a,{fontSize:"small"})),r.a.createElement(Se.a,{id:"simple-menu",anchorEl:f,open:Boolean(f),onClose:g},Object.keys(Ne).map((function(e,t){return r.a.createElement(Te.a,{key:t,onClick:p},e)}))),r.a.createElement("div",{className:l.grow}),r.a.createElement("div",{className:l.search},r.a.createElement("div",{className:l.searchIcon},r.a.createElement(we.a,null)),r.a.createElement(Re.a,{placeholder:"Search\u2026",value:c,onChange:o,classes:{root:l.inputRoot,input:l.inputInput}}))))},Ie={xs:12,sm:6,md:4,lg:3,xl:3},Le={xs:12,sm:12,md:12,lg:6,xl:6};function De(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],o=a[1],i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(){return c((function(e){return!e}))}),[]);return{toggle:r,setToggle:o}}(!1),l=i.toggle,s=i.setToggle,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(e){return c(e.target.value)}),[]);return[r,o]}(),f=Object(d.a)(u,2),m=f[0],b=f[1],g=Object(n.useState)(e.videos),p=Object(d.a)(g,2),h=p[0],j=p[1];!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Valley";Object(n.useEffect)((function(){document.title=e}),[e])}("Video List");var O,E,v=l?Le:Ie,w=(O=h.filter((function(e){return e.attributes.source.toLowerCase().includes(m.toLowerCase())})),E=function(e,t){return t[c]-e[c]},O.map((function(e,t){return{item:e,index:t}})).sort((function(e,t){return E(e.item,t.item)||e.index-t.index})).map((function(e){return e.item}))),y=Object(n.useCallback)(Object(X.debounce)(re,600),[]);Object(n.useEffect)((function(){var e=setTimeout((function(){console.log("debounce... ",m),y(j,m,0,12)}),500);return function(){return clearTimeout(e)}}),[m]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,Object.assign({},n.getState,{searchValue:m,setSearchValue:function(e){b(e)},setLSortValue:o,toggle:l,setToggle:s})),r.a.createElement(se.a,{container:!0,spacing:4},w.map((function(e){return r.a.createElement(se.a,Object.assign({item:!0,key:e.id},v),l?r.a.createElement(ge,e):r.a.createElement(he,e))}))))}var Pe=Object(p.a)({root:{"justify-content":"flex-start"},label:{}});function Fe(){var e=Pe(),t=Object(n.useState)(!0),a=Object(d.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(d.a)(i,2),s=l[0],u=l[1],f=Object(n.useState)(0),p=Object(d.a)(f,2),E=p[0],v=p[1],w=function(e,t){console.log("Async callback updateVideoList: {}, total",e,t),u(e),v(t)};return Object(n.useEffect)((function(){s||re(w)}),[s]),r.a.createElement(b.a,{className:e.header},r.a.createElement(m.a,null,r.a.createElement(h.a,{row:!0},r.a.createElement(j.a,{control:r.a.createElement(O.a,{checked:c,onChange:function(e){console.log("Switch: {}",[e.target.name]),o(e.target.checked)},name:"tableViewSwitch",color:"primary"}),label:"Switch View"}))),r.a.createElement(g.a,null,!c&&s&&r.a.createElement(le,{videos:s,totalCount:E,refresh:function(){return w}}),c&&s&&r.a.createElement(De,{videos:s,totalCount:E,refresh:function(){return w}})))}var Me=Object(p.a)((function(e){return{appBarSpacer:{height:10}}}));var ze=function(){var e=Me();return r.a.createElement(s.a,{theme:l},r.a.createElement(u.a,null,r.a.createElement(f.a,{component:"h1",variant:"h6",noWrap:!0},r.a.createElement("h1",null,"Videos"))),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(m.a,{maxWidth:"lg"},r.a.createElement(Fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[369,1,2]]]);
//# sourceMappingURL=main.0fb861c1.chunk.js.map