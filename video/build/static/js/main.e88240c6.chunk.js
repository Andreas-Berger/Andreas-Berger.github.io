(this["webpackJsonpaber-proj0"]=this["webpackJsonpaber-proj0"]||[]).push([[0],{371:function(e,t,a){e.exports=a(457)},376:function(e,t,a){},377:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=(a(376),a(377),a(109)),l=Object(i.a)({palette:{type:"dark",spacing:"2em",primary:{main:"#05AFF2"},secondary:{main:"#025E73"}},overrides:{MuiTableCell:{root:{padding:"2px"},paddingDefault:{padding:"2px 2px 2px 2px"}}}}),s=(Object(i.a)({}),a(484)),u=a(306),f=a(228),m=a(24),d=a(488),b=a(489),g=a(244),p=a(491),h=a(321),j=a(492),O=a(347),E=a.n(O),v=a(357),w=a.n(v),y=a(348),x=a.n(y),k=a(355),C=a.n(k),S=a(242),T=a.n(S),R=a(241),N=a.n(R),A=a(349),V=a.n(A),I=a(350),L=a.n(I),P=a(352),D=a.n(P),M=a(353),F=a.n(M),B=a(354),z=a.n(B),U=a(358),_=a.n(U),W=a(351),Y=a.n(W),q=a(356),H=a.n(q),J=a(359),G=a.n(J),$=a(341),K=a.n($),Q=a(199),X=a(240),Z=a.n(X),ee=a(345),te=a(346),ae=a.n(te),ne=function(){var e=Object(ee.a)(Z.a.mark((function e(t,a){var n,r,c,o,i,l=arguments;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:0,r=l.length>3&&void 0!==l[3]?l[3]:10,c=l.length>4&&void 0!==l[4]?l[4]:"Video",console.log("API q=, offset, limit",a,n,r),o=a?{params:{q:"".concat(encodeURIComponent(a)),"f[mediaType]":"".concat(c),offset:"".concat(n),limit:"".concat(r)}}:{params:{"f[mediaType]":"".concat(c),offset:"".concat(n),limit:"".concat(r)}},e.next=7,ae.a.get("".concat("https://rbcp.rbmbtnx.net/api/v2","/content/communication"),o).catch((function(e){console.log(e)}));case 7:i=e.sent;try{console.log("API getVideos res: ",i),Array.isArray(i.data.items)?t(i.data.items,i.data._meta.total):t([],0)}catch(s){console.log("API call implementation looks fragile, please investigate. ",s),t([],0)}case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;if(e&&e.resources&&Array.isArray(e.resources)){var a=e.resources.filter((function(e){return e.type&&"reference_keyframe"===e.type})),n=Array.isArray(a)&&a.length>0?a[0].url:"UNDEFINED";return n.indexOf("/im/")>0&&(n=n.replace("/im/","/im:i:w_".concat(t,"/"))),n}return""}function ce(e){if(e&&e.resources&&Array.isArray(e.resources)){var t=e.resources.filter((function(e){return e.type&&("proxy_hd_720"===e.type||"proxy_normal"===e.type)}));return Array.isArray(t)&&t.length>0?t[0].url:"UNDEFINED"}return""}var oe={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(T.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(w.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))}))};function ie(e){var t=Object(n.useCallback)(Object(Q.debounce)(ne,2e3),[]),a=Object(n.useState)(),c=Object(m.a)(a,2),o=c[0];c[1];Object(n.useEffect)((function(){var e=setTimeout((function(){console.log(o)}),1e3);return function(){return clearTimeout(e)}}),[o]);var i=Object(n.useState)(10),l=Object(m.a)(i,2),s=l[0],u=l[1];return r.a.createElement(K.a,{icons:oe,title:"Video List",columns:[{title:"Video",field:"imageUrl",render:function(e){return r.a.createElement("a",{href:ce(e)},r.a.createElement("img",{src:re(e),alt:"",style:{width:"15em",borderRadius:"5%"}}))},filtering:!1},{title:"Title",field:"attributes.source"},{title:"Type",field:"attributes.type"},{title:"Description",field:"attributes.description"}],data:e.videos,totalCount:e.totalCount,options:{filtering:!0,search:!1,pageSize:s},onFilterChange:function(a){var n;console.log("filter changed: ",a),Array.isArray(a)&&a.length>0&&(n=a.filter((function(e){return"="===e.operator})).map((function(e){return e.value})).reduceRight((function(e,t){return e+" OR "+t}))),console.log("onFilterChange:",n),t(e.refresh,n,0,s)},onChangeRowsPerPage:function(a){u(a),t(e.refresh,o,0,a)},onChangePage:function(a,n){t(e.refresh,o,a,n)}})}var le=a(92),se=a(482),ue=a(57),fe=a(123),me=a(56),de=a(490),be=Object(g.a)((function(e){var t;return{card:{display:"flex",position:"relative",transition:"all 0.2s ease-in-out",height:"100%",backgroundColor:"dark"===e.palette.type?"#333":"#fff"},cardMedia:(t={flexShrink:0,width:0},Object(ue.a)(t,e.breakpoints.up("sm"),{width:256}),Object(ue.a)(t,"height",350),Object(ue.a)(t,"transition","all 0.5s ease-in-out"),Object(ue.a)(t,"&:hover",{transform:"scale(1.1)"}),Object(ue.a)(t,"cursor","pointer"),t),details:{display:"flex",flexDirection:"column"},summary:{maxHeight:400,margin:0,overflowY:"auto",textAlign:"justify"},content:{flex:"1 0 auto"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(4),paddingBottom:e.spacing(1)},cardLink:{textDecoration:"none",color:Object(me.fade)(e.palette.common.white,.55),transition:"all 0.3s ease-in","&:hover":{color:Object(me.fade)(e.palette.common.white,.75)}}}}));var ge=function(e){Object(fe.a)();var t=be(),a=re(e,600);return r.a.createElement(d.a,{className:t.card},r.a.createElement(d.a,{width:600,offset:[100,0],overflow:"true"},r.a.createElement("a",{href:ce(e)},r.a.createElement(de.a,{className:t.cardMedia,image:a}))),r.a.createElement("div",{className:t.details},r.a.createElement(b.a,{className:t.content},r.a.createElement(le.a,{component:"h5",variant:"h5"},e.attributes.source),r.a.createElement(le.a,{component:"h6",variant:"h6"},e.attributes.type),r.a.createElement("section",{className:t.summary},r.a.createElement(le.a,{width:"",variant:"subtitle1",color:"textSecondary"},e.attributes.description)))))},pe=(a(360),Object(g.a)((function(e){return{card:{position:"relative",height:512,display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out",backgroundColor:"dark"===e.palette.type?"#333":"#fff"},cardMedia:{height:"512px",transition:"all 0.5s ease-in-out","&:hover":{transform:"scale(1.1)"}},cardContent:{position:"absolute",width:"85%",bottom:0,zIndex:e.zIndex.drawer-1,backgroundColor:"rgba(20,20,20,0.75)",color:"#ccc",fontSize:14,fontFamily:"Verdana, Arial, sans-serif",maxHeight:"30%",padding:"15px 10%",textAlign:"center",borderTop:"1px solid rgba(255,255,255,0.2)",transition:"all 0.5s ease-in-out"},cardDivider:{display:"block",height:"1px",border:0,borderTop:"1px solid #666"},cardLink:{textDecoration:"none",color:Object(me.fade)(e.palette.common.white,.55),"&:hover":{color:Object(me.fade)(e.palette.common.white,.75)}},ratingCount:{color:Object(me.fade)(e.palette.common.white,.55)}}})));var he=function(e){var t=pe(),a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(){return c(!0)}),[]),i=Object(n.useCallback)((function(){return c(!1)}),[]);return[r,{onMouseEnter:o,onMouseLeave:i}]}(),c=Object(m.a)(a,2),o=c[0],i=c[1],l=re(e,1024);return r.a.createElement(d.a,Object.assign({className:t.card},i),r.a.createElement("a",{href:ce(e)},r.a.createElement(d.a,{height:200,offset:[100,0],overflow:"true"},r.a.createElement(de.a,{className:t.cardMedia,image:l})),r.a.createElement("div",{className:t.cardContent,style:{opacity:o?100:0}},r.a.createElement(le.a,null,e.attributes.source),r.a.createElement("small",{className:t.ratingCount},e.attributes.type),r.a.createElement("hr",{className:t.cardDivider}),r.a.createElement("div",{className:t.cardLink},r.a.createElement("p",null,"".concat(e.attributes.description," (").concat(e.attributes.year,")"))))))},je=a(493),Oe=a(494),Ee=a(495),ve=a(496),we=a(497),ye=a(485),xe=a(487),ke=a(486),Ce=a(187),Se=a(178),Te=a(305),Re=a(364),Ne=a(499),Ae={Title:"docTitle",Rate:"ratingValue",Year:"docYear"},Ve=Object(g.a)((function(e){return{content:{backgroundColor:"transparent",boxShadow:"none",marginTop:e.spacing(-3)},summary:{marginTop:e.spacing(-3)},grow:{flexGrow:1},search:Object(ue.a)({position:"relative",height:"90%",borderRadius:e.shape.borderRadius,backgroundColor:Object(me.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(me.fade)(e.palette.common.white,.2)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),itemsPerPage:{padding:"0.5em"},searchIcon:{width:e.spacing(8),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",height:"100%",width:"100%"},inputInput:Object(ue.a)({paddingLeft:e.spacing(8),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));var Ie=function(e){var t=e.toggle,a=e.setToggle,c=e.searchValue,o=e.setSearchValue,i=e.setLSortValue,l=e.bubbleUp,s=Ve(),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(e){return c(e.currentTarget)}),[]),i=Object(n.useCallback)((function(){return c(null)}),[]);return[r,{setTarget:o,freeTarget:i}]}(),f=Object(m.a)(u,2),d=f[0],b=f[1],g=b.setTarget,p=b.freeTarget;function h(e){i(Ae[e.currentTarget.textContent]),p()}var j=r.a.useState(12),O=Object(m.a)(j,2),E=O[0],v=O[1];return r.a.createElement(ye.a,{className:s.content},r.a.createElement(xe.a,{"aria-label":"Toggle setting",expandIcon:r.a.createElement(je.a,null),className:s.summary}),r.a.createElement(ke.a,null,r.a.createElement(Ce.a,{"aria-label":"Toggle layout",onClick:a},t?r.a.createElement(Oe.a,{fontSize:"small"}):r.a.createElement(Ee.a,{fontSize:"small"})),r.a.createElement(Ce.a,{"aria-label":"Toggle sorted",onClick:g},r.a.createElement(ve.a,{fontSize:"small"})),r.a.createElement(Se.a,{id:"simple-menu",anchorEl:d,open:Boolean(d),onClose:p},Object.keys(Ae).map((function(e,t){return r.a.createElement(Te.a,{key:t,onClick:h},e)}))),r.a.createElement("div",{className:s.grow}),r.a.createElement("div",{className:s.search},r.a.createElement("div",{className:s.searchIcon},r.a.createElement(we.a,null)),r.a.createElement(Re.a,{placeholder:"Search\u2026",value:c,onChange:o,classes:{root:s.inputRoot,input:s.inputInput}})),r.a.createElement("div",{className:s.itemsPerPage},r.a.createElement(le.a,{id:"discrete-slider",gutterBottom:!0},"Items per page"),r.a.createElement(Ne.a,{onChange:function(e,t){t!=E&&l(c,t),v(t)},value:E,defaultValue:12,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:12,marks:!0,min:12,max:96}))))},Le=a(361),Pe=a.n(Le),De=a(362),Me=a.n(De),Fe=a(307),Be={xs:12,sm:6,md:4,lg:3,xl:3},ze={xs:12,sm:12,md:12,lg:6,xl:6};function Ue(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(){return c((function(e){return!e}))}),[]);return{toggle:r,setToggle:o}}(!1),l=i.toggle,s=i.setToggle,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(e){return c(e.target.value)}),[]);return[r,o]}(),f=Object(m.a)(u,2),d=f[0],b=f[1],g=Object(n.useState)(e.videos),p=Object(m.a)(g,2),h=p[0],j=p[1],O=Object(n.useState)(e.totalCount),E=Object(m.a)(O,2),v=E[0],w=E[1],y=Object(n.useState)(0),x=Object(m.a)(y,2),k=x[0],C=x[1],S=Object(n.useState)(12),T=Object(m.a)(S,2),R=T[0],N=T[1];!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Valley";Object(n.useEffect)((function(){document.title=e}),[e])}("Video List");var A,V,I=l?ze:Be,L=(A=h.filter((function(e){return e.attributes.source.toLowerCase().includes(d.toLowerCase())})),V=function(e,t){return t[c]-e[c]},A.map((function(e,t){return{item:e,index:t}})).sort((function(e,t){return V(e.item,t.item)||e.index-t.index})).map((function(e){return e.item}))),P=Object(n.useCallback)(Object(Q.debounce)(ne,600),[]);Object(n.useEffect)((function(){var e=setTimeout((function(){console.log("debounce... ",d),C(0),P(D,d,0,R)}),500);return function(){return clearTimeout(e)}}),[d]);var D=function(e,t){j(e),w(t);var a=(Math.floor(t/R)-1)*R;k>a&&C(a)},M=function(e){var t=(Math.floor(v/R)-1)*R;console.log(t),e<0?e=t:e>t&&(e=0),C(e),P(D,d,e,R)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{title:"Back"},r.a.createElement(Ce.a,{"aria-label":"back",onClick:function(){M(k-R)}},r.a.createElement(Pe.a,null))),r.a.createElement(Fe.a,{title:"Next"},r.a.createElement(Ce.a,{"aria-label":"Next",onClick:function(){M(k+R)}},r.a.createElement(Me.a,null))),r.a.createElement(le.a,null,Math.floor(k/R)+1," / ",Math.floor(v/R)),r.a.createElement(Ie,Object.assign({},n.getState,{searchValue:d,setSearchValue:function(e){b(e)},setLSortValue:o,toggle:l,setToggle:s,bubbleUp:function(e,t,a){N(t),P(D,e,k,t)}})),r.a.createElement(se.a,{container:!0,spacing:4},L.map((function(e){return r.a.createElement(se.a,Object.assign({item:!0,key:e.id},I),l?r.a.createElement(ge,e):r.a.createElement(he,e))}))))}var _e=Object(g.a)({root:{"justify-content":"flex-start"},label:{}});function We(){var e=_e(),t=Object(n.useState)(!0),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),l=Object(m.a)(i,2),s=l[0],u=l[1],g=Object(n.useState)(0),O=Object(m.a)(g,2),E=O[0],v=O[1],w=function(e,t){console.log("Async callback updateVideoList: {}, total",e,t),u(e),v(t)};return Object(n.useEffect)((function(){s||ne(w)}),[s]),r.a.createElement(d.a,{className:e.header},r.a.createElement(f.a,null,r.a.createElement(p.a,{row:!0},r.a.createElement(h.a,{control:r.a.createElement(j.a,{checked:c,onChange:function(e){console.log("Switch: {}",[e.target.name]),o(e.target.checked)},name:"tableViewSwitch",color:"primary"}),label:"Switch View"}))),r.a.createElement(b.a,null,!c&&s&&r.a.createElement(ie,{videos:s,totalCount:E,refresh:function(){return w}}),c&&s&&r.a.createElement(Ue,{videos:s,totalCount:E,refresh:function(){return w}})))}var Ye=Object(g.a)((function(e){return{appBarSpacer:{height:1},header:{"background-color":"#0a3f45",color:"#000000"}}}));var qe=function(){var e=Ye();return r.a.createElement(s.a,{theme:l},r.a.createElement(u.a,{className:e.header},r.a.createElement("h2",{color:"black"},"Videos")),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(f.a,{maxWidth:"lg"},r.a.createElement(We,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[371,1,2]]]);
//# sourceMappingURL=main.e88240c6.chunk.js.map